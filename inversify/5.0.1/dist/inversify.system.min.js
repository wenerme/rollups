System.register([],(function(n){"use strict";return{execute:function(){n({decorate:function(n,t,e){"number"==typeof e?C([N(e,n)],t):"string"==typeof e?Reflect.decorate([n],t,e):C([n],t)},getServiceIdentifierAsString:y,id:s,inject:function(n){return function(t,e,i){if(void 0===n)throw new Error("@inject called with undefined this could mean that the class "+t.name+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.");var r=new _("inject",n);"number"==typeof i?T(t,e,i,r):I(t,e,r)}},injectable:function(){return function(n){if(Reflect.hasOwnMetadata(i,n))throw new Error("Cannot apply @injectable decorator multiple times.");var t=Reflect.getMetadata("design:paramtypes",n)||[];return Reflect.defineMetadata(i,t,n),n}},multiInject:function(n){return function(t,e,i){var r=new _("multi_inject",n);"number"==typeof i?T(t,e,i,r):I(t,e,r)}},named:function(n){return function(t,e,i){var r=new _("named",n);"number"==typeof i?T(t,e,i,r):I(t,e,r)}},optional:function(){return function(n,t,e){var i=new _("optional",!0);"number"==typeof e?T(n,t,e,i):I(n,t,i)}},postConstruct:function(){return function(n,t,e){var i=new _("post_construct",t);if(Reflect.hasOwnMetadata("post_construct",n.constructor))throw new Error("Cannot apply @postConstruct decorator multiple times in the same class");Reflect.defineMetadata("post_construct",i,n.constructor)}},tagged:function(n,t){return function(e,i,r){var o=new _(n,t);"number"==typeof r?T(e,i,r,o):I(e,i,o)}},targetName:function(n){return function(t,e,i){T(t,e,i,new _("name",n))}},unmanaged:function(){return function(n,t,e){T(n,t,e,new _("unmanaged",!0))}}});var t="inversify:tagged",e="inversify:tagged_props",i="inversify:paramtypes",r=Object.freeze({__proto__:null,NAMED_TAG:"named",NAME_TAG:"name",UNMANAGED_TAG:"unmanaged",OPTIONAL_TAG:"optional",INJECT_TAG:"inject",MULTI_INJECT_TAG:"multi_inject",TAGGED:t,TAGGED_PROP:e,PARAM_TYPES:i,DESIGN_PARAM_TYPES:"design:paramtypes",POST_CONSTRUCT:"post_construct"}),o=n("BindingScopeEnum",{Request:"Request",Singleton:"Singleton",Transient:"Transient"}),a=n("BindingTypeEnum",{ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"}),u=n("TargetTypeEnum",{ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}),c=0;function s(){return c++}var d=function(){function n(n,t){this.id=s(),this.activated=!1,this.serviceIdentifier=n,this.scope=t,this.type=a.Invalid,this.constraint=function(n){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return n.prototype.clone=function(){var t=new n(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},n}(),h=n("MetadataReader",function(){function n(){}return n.prototype.getConstructorMetadata=function(n){return{compilerGeneratedMetadata:Reflect.getMetadata(i,n),userGeneratedMetadata:Reflect.getMetadata(t,n)||{}}},n.prototype.getPropertiesMetadata=function(n){return Reflect.getMetadata(e,n)||[]},n}()),f=2,p=0,l=1;function g(n){return n instanceof RangeError||"Maximum call stack size exceeded"===n.message}function y(n){return"function"==typeof n?n.name:"symbol"==typeof n?n.toString():n}function m(n,t,e){var i="",r=e(n,t);return 0!==r.length&&(i="\nRegistered bindings:",r.forEach((function(n){var t="Object";null!==n.implementationType&&(t=b(n.implementationType)),i=i+"\n "+t,n.constraint.metaData&&(i=i+" - "+n.constraint.metaData)}))),i}function v(n){n.childRequests.forEach((function(n){if(function n(t,e){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===e||n(t.parentRequest,e))}(n,n.serviceIdentifier)){var t=function(n){return function n(t,e){void 0===e&&(e=[]);var i=y(t.serviceIdentifier);return e.push(i),null!==t.parentRequest?n(t.parentRequest,e):e}(n).reverse().join(" --\x3e ")}(n);throw new Error("Circular dependency found: "+t)}v(n)}))}function b(n){if(n.name)return n.name;var t=n.toString(),e=t.match(/^function\s*([^\s(]+)/);return e?e[1]:"Anonymous function: "+t}var w=function(){function n(n){this.id=s(),this.container=n}return n.prototype.addPlan=function(n){this.plan=n},n.prototype.setCurrentRequest=function(n){this.currentRequest=n},n}(),_=function(){function n(n,t){this.key=n,this.value=t}return n.prototype.toString=function(){return"named"===this.key?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},n}(),A=function(n,t){this.parentContext=n,this.rootRequest=t};function T(n,t,e,i){S("inversify:tagged",n,t,i,e)}function I(n,t,e){S("inversify:tagged_props",n.constructor,t,e)}function S(n,t,e,i,r){var o={},a="number"==typeof r,u=void 0!==r&&a?r.toString():e;if(a&&void 0!==e)throw new Error("The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.");Reflect.hasOwnMetadata(n,t)&&(o=Reflect.getMetadata(n,t));var c=o[u];if(Array.isArray(c))for(var s=0,d=c;s<d.length;s++){var h=d[s];if(h.key===i.key)throw new Error("Metadata key was used more than once in a parameter: "+h.key.toString())}else c=[];c.push(i),o[u]=c,Reflect.defineMetadata(n,o,t)}function C(n,t){Reflect.decorate(n,t)}function N(n,t){return function(e,i){t(e,i,n)}}var R=n("LazyServiceIdentifer",function(){function n(n){this._cb=n}return n.prototype.unwrap=function(){return this._cb()},n}());var x=function(){function n(n){this.str=n}return n.prototype.startsWith=function(n){return 0===this.str.indexOf(n)},n.prototype.endsWith=function(n){var t,e=n.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},e)},n.prototype.contains=function(n){return-1!==this.str.indexOf(n)},n.prototype.equals=function(n){return this.str===n},n.prototype.value=function(){return this.str},n}(),E=function(){function n(n,t,e,i){this.id=s(),this.type=n,this.serviceIdentifier=e,this.name=new x(t||""),this.metadata=new Array;var r=null;"string"==typeof i?r=new _("named",i):i instanceof _&&(r=i),null!==r&&this.metadata.push(r)}return n.prototype.hasTag=function(n){for(var t=0,e=this.metadata;t<e.length;t++){if(e[t].key===n)return!0}return!1},n.prototype.isArray=function(){return this.hasTag("multi_inject")},n.prototype.matchesArray=function(n){return this.matchesTag("multi_inject")(n)},n.prototype.isNamed=function(){return this.hasTag("named")},n.prototype.isTagged=function(){return this.metadata.some((function(n){return"inject"!==n.key&&"multi_inject"!==n.key&&"name"!==n.key&&"unmanaged"!==n.key&&"named"!==n.key}))},n.prototype.isOptional=function(){return this.matchesTag("optional")(!0)},n.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(n){return"named"===n.key}))[0]:null},n.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(n){return"inject"!==n.key&&"multi_inject"!==n.key&&"name"!==n.key&&"unmanaged"!==n.key&&"named"!==n.key})):null},n.prototype.matchesNamedTag=function(n){return this.matchesTag("named")(n)},n.prototype.matchesTag=function(n){var t=this;return function(e){for(var i=0,r=t.metadata;i<r.length;i++){var o=r[i];if(o.key===n&&o.value===e)return!0}return!1}},n}();function j(n,t,e,i){var r=n.getConstructorMetadata(e),o=r.compilerGeneratedMetadata;if(void 0===o)throw new Error("Missing required @injectable annotation in: "+t+".");var a=r.userGeneratedMetadata,c=Object.keys(a),s=function(n,t,e,i,r){for(var o=[],a=0;a<r;a++){var u=M(a,n,t,e,i);null!==u&&o.push(u)}return o}(i,t,o,a,0===e.length&&c.length>0?c.length:e.length),d=function n(t,e){for(var i=t.getPropertiesMetadata(e),r=[],o=Object.keys(i),a=0,c=o;a<c.length;a++){var s=c[a],d=i[s],h=k(i[s]),f=h.targetName||s,p=h.inject||h.multiInject,l=new E(u.ClassProperty,f,p);l.metadata=d,r.push(l)}var g=Object.getPrototypeOf(e.prototype).constructor;if(g!==Object){var y=n(t,g);r=r.concat(y)}return r}(n,e);return s.concat(d)}function M(n,t,e,i,r){var o=r[n.toString()]||[],a=k(o),c=!0!==a.unmanaged,s=i[n],d=a.inject||a.multiInject;if((s=d||s)instanceof R&&(s=s.unwrap()),c){if(!t&&(s===Object||s===Function||void 0===s))throw new Error("Missing required @inject or @multiInject annotation in: argument "+n+" in class "+e+".");var h=new E(u.ConstructorArgument,a.targetName,s);return h.metadata=o,h}return null}function k(n){var t={};return n.forEach((function(n){t[n.key.toString()]=n.value})),{inject:t.inject,multiInject:t.multi_inject,targetName:t.name,unmanaged:t.unmanaged}}var q=function(){function n(n,t,e,i,r){this.id=s(),this.serviceIdentifier=n,this.parentContext=t,this.parentRequest=e,this.target=r,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===e?new Map:null}return n.prototype.addChildRequest=function(t,e,i){var r=new n(t,this.parentContext,this,e,i);return this.childRequests.push(r),r},n}();function P(n){return n._bindingDictionary}function W(n,t,e,i,r){var o=F(e.container,r.serviceIdentifier),a=[];return o.length===p&&e.container.options.autoBindInjectable&&"function"==typeof r.serviceIdentifier&&n.getConstructorMetadata(r.serviceIdentifier).compilerGeneratedMetadata&&(e.container.bind(r.serviceIdentifier).toSelf(),o=F(e.container,r.serviceIdentifier)),a=t?o:o.filter((function(n){var t=new q(n.serviceIdentifier,e,i,n,r);return n.constraint(t)})),function(n,t,e,i){switch(t.length){case p:if(e.isOptional())return t;var r=y(n),o="No matching bindings found for serviceIdentifier:";throw o+=function(n,t){if(t.isTagged()||t.isNamed()){var e="",i=t.getNamedTag(),r=t.getCustomTags();return null!==i&&(e+=i.toString()+"\n"),null!==r&&r.forEach((function(n){e+=n.toString()+"\n"}))," "+n+"\n "+n+" - "+e}return" "+n}(r,e),o+=m(i,r,F),new Error(o);case l:if(!e.isArray())return t;case f:default:if(e.isArray())return t;o="Ambiguous match found for serviceIdentifier: "+(r=y(n));throw o+=m(i,r,F),new Error(o)}}(r.serviceIdentifier,a,r,e.container),a}function D(n,t,e,i,r,o){var u,c;if(null===r){u=W(n,t,i,null,o),c=new q(e,i,null,u,o);var s=new A(i,c);i.addPlan(s)}else u=W(n,t,i,r,o),c=r.addChildRequest(o.serviceIdentifier,u,o);u.forEach((function(t){var e=null;if(o.isArray())e=c.addChildRequest(t.serviceIdentifier,t,o);else{if(t.cache)return;e=c}if(t.type===a.Instance&&null!==t.implementationType){var r=function(n,t){return j(n,b(t),t,!1)}(n,t.implementationType);if(!i.container.options.skipBaseClassChecks){var u=function n(t,e){var i=Object.getPrototypeOf(e.prototype).constructor;if(i!==Object){var r=j(t,b(i),i,!0),o=r.map((function(n){return n.metadata.filter((function(n){return"unmanaged"===n.key}))})),a=[].concat.apply([],o).length,u=r.length-a;return u>0?u:n(t,i)}return 0}(n,t.implementationType);if(r.length<u){var s=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return"The number of constructor arguments in the derived class "+n[0]+" must be >= than the number of constructor arguments of its base class."}(b(t.implementationType));throw new Error(s)}}r.forEach((function(t){D(n,!1,t.serviceIdentifier,i,e,t)}))}}))}function F(n,t){var e=[],i=P(n);return i.hasKey(t)?e=i.get(t):null!==n.parent&&(e=F(n.parent,t)),e}function O(n,t,e,i,r,o,a,u){void 0===u&&(u=!1);var c=new w(t),s=function(n,t,e,i,r,o){var a=new _(n?"multi_inject":"inject",e),u=new E(t,i,e,a);if(void 0!==r){var c=new _(r,o);u.metadata.push(c)}return u}(e,i,r,"",o,a);try{return D(n,u,r,c,null,s),c}catch(n){throw g(n)&&c.plan&&v(c.plan.rootRequest),n}}function V(n,t,e){var i,r,o=null;if(t.length>0){var a=t.filter((function(n){return null!==n.target&&n.target.type===u.ConstructorArgument})).map(e);r=a,o=function(n,t,e){var i=t.filter((function(n){return null!==n.target&&n.target.type===u.ClassProperty})),r=i.map(e);return i.forEach((function(t,e){var i;i=t.target.name.value();var o=r[e];n[i]=o})),n}(o=new((i=n).bind.apply(i,[void 0].concat(r))),t,e)}else o=new n;return function(n,t){if(Reflect.hasMetadata("post_construct",n)){var e=Reflect.getMetadata("post_construct",n);try{t[e.value]()}catch(t){throw new Error(function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return"@postConstruct error in class "+n[0]+": "+n[1]}(n.name,t.message))}}}(n,o),o}var B=function(n,t,e){try{return e()}catch(e){throw g(e)?new Error(function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+n[0]+"' bindings. Please investigate bindings withservice identifier '"+n[1]+"'."}(n,t.toString())):e}},G=function(n){return function(t){t.parentContext.setCurrentRequest(t);var e=t.bindings,i=t.childRequests,r=t.target&&t.target.isArray(),u=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(r&&u)return i.map((function(t){return G(n)(t)}));var c=null;if(!t.target.isOptional()||0!==e.length){var s=e[0],d=s.scope===o.Singleton,h=s.scope===o.Request;if(d&&s.activated)return s.cache;if(h&&null!==n&&n.has(s.id))return n.get(s.id);if(s.type===a.ConstantValue)c=s.cache;else if(s.type===a.Function)c=s.cache;else if(s.type===a.Constructor)c=s.implementationType;else if(s.type===a.DynamicValue&&null!==s.dynamicValue)c=B("toDynamicValue",s.serviceIdentifier,(function(){return s.dynamicValue(t.parentContext)}));else if(s.type===a.Factory&&null!==s.factory)c=B("toFactory",s.serviceIdentifier,(function(){return s.factory(t.parentContext)}));else if(s.type===a.Provider&&null!==s.provider)c=B("toProvider",s.serviceIdentifier,(function(){return s.provider(t.parentContext)}));else{if(s.type!==a.Instance||null===s.implementationType){var f=y(t.serviceIdentifier);throw new Error("Invalid binding type: "+f)}c=V(s.implementationType,i,G(n))}return"function"==typeof s.onActivation&&(c=s.onActivation(t.parentContext,c)),d&&(s.cache=c,s.activated=!0),h&&null!==n&&!n.has(s.id)&&n.set(s.id,c),c}}};var L=n("traverseAncerstors",(function(n,t){var e=n.parentRequest;return null!==e&&(!!t(e)||L(e,t))})),U=n("taggedConstraint",(function(n){return function(t){var e=function(e){return null!==e&&null!==e.target&&e.target.matchesTag(n)(t)};return e.metaData=new _(n,t),e}})),K=n("namedConstraint",U("named")),z=n("typeConstraint",(function(n){return function(t){var e=null;if(null!==t){if(e=t.bindings[0],"string"==typeof n)return e.serviceIdentifier===n;var i=t.bindings[0].implementationType;return n===i}return!1}})),Y=function(){function n(n){this._binding=n}return n.prototype.when=function(n){return this._binding.constraint=n,new H(this._binding)},n.prototype.whenTargetNamed=function(n){return this._binding.constraint=K(n),new H(this._binding)},n.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(n){return null!==n.target&&!n.target.isNamed()&&!n.target.isTagged()},new H(this._binding)},n.prototype.whenTargetTagged=function(n,t){return this._binding.constraint=U(n)(t),new H(this._binding)},n.prototype.whenInjectedInto=function(n){return this._binding.constraint=function(t){return z(n)(t.parentRequest)},new H(this._binding)},n.prototype.whenParentNamed=function(n){return this._binding.constraint=function(t){return K(n)(t.parentRequest)},new H(this._binding)},n.prototype.whenParentTagged=function(n,t){return this._binding.constraint=function(e){return U(n)(t)(e.parentRequest)},new H(this._binding)},n.prototype.whenAnyAncestorIs=function(n){return this._binding.constraint=function(t){return L(t,z(n))},new H(this._binding)},n.prototype.whenNoAncestorIs=function(n){return this._binding.constraint=function(t){return!L(t,z(n))},new H(this._binding)},n.prototype.whenAnyAncestorNamed=function(n){return this._binding.constraint=function(t){return L(t,K(n))},new H(this._binding)},n.prototype.whenNoAncestorNamed=function(n){return this._binding.constraint=function(t){return!L(t,K(n))},new H(this._binding)},n.prototype.whenAnyAncestorTagged=function(n,t){return this._binding.constraint=function(e){return L(e,U(n)(t))},new H(this._binding)},n.prototype.whenNoAncestorTagged=function(n,t){return this._binding.constraint=function(e){return!L(e,U(n)(t))},new H(this._binding)},n.prototype.whenAnyAncestorMatches=function(n){return this._binding.constraint=function(t){return L(t,n)},new H(this._binding)},n.prototype.whenNoAncestorMatches=function(n){return this._binding.constraint=function(t){return!L(t,n)},new H(this._binding)},n}(),H=function(){function n(n){this._binding=n}return n.prototype.onActivation=function(n){return this._binding.onActivation=n,new Y(this._binding)},n}(),J=function(){function n(n){this._binding=n,this._bindingWhenSyntax=new Y(this._binding),this._bindingOnSyntax=new H(this._binding)}return n.prototype.when=function(n){return this._bindingWhenSyntax.when(n)},n.prototype.whenTargetNamed=function(n){return this._bindingWhenSyntax.whenTargetNamed(n)},n.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},n.prototype.whenTargetTagged=function(n,t){return this._bindingWhenSyntax.whenTargetTagged(n,t)},n.prototype.whenInjectedInto=function(n){return this._bindingWhenSyntax.whenInjectedInto(n)},n.prototype.whenParentNamed=function(n){return this._bindingWhenSyntax.whenParentNamed(n)},n.prototype.whenParentTagged=function(n,t){return this._bindingWhenSyntax.whenParentTagged(n,t)},n.prototype.whenAnyAncestorIs=function(n){return this._bindingWhenSyntax.whenAnyAncestorIs(n)},n.prototype.whenNoAncestorIs=function(n){return this._bindingWhenSyntax.whenNoAncestorIs(n)},n.prototype.whenAnyAncestorNamed=function(n){return this._bindingWhenSyntax.whenAnyAncestorNamed(n)},n.prototype.whenAnyAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(n,t)},n.prototype.whenNoAncestorNamed=function(n){return this._bindingWhenSyntax.whenNoAncestorNamed(n)},n.prototype.whenNoAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenNoAncestorTagged(n,t)},n.prototype.whenAnyAncestorMatches=function(n){return this._bindingWhenSyntax.whenAnyAncestorMatches(n)},n.prototype.whenNoAncestorMatches=function(n){return this._bindingWhenSyntax.whenNoAncestorMatches(n)},n.prototype.onActivation=function(n){return this._bindingOnSyntax.onActivation(n)},n}(),Q=function(){function n(n){this._binding=n}return n.prototype.inRequestScope=function(){return this._binding.scope=o.Request,new J(this._binding)},n.prototype.inSingletonScope=function(){return this._binding.scope=o.Singleton,new J(this._binding)},n.prototype.inTransientScope=function(){return this._binding.scope=o.Transient,new J(this._binding)},n}(),X=function(){function n(n){this._binding=n,this._bindingWhenSyntax=new Y(this._binding),this._bindingOnSyntax=new H(this._binding),this._bindingInSyntax=new Q(n)}return n.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},n.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},n.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},n.prototype.when=function(n){return this._bindingWhenSyntax.when(n)},n.prototype.whenTargetNamed=function(n){return this._bindingWhenSyntax.whenTargetNamed(n)},n.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},n.prototype.whenTargetTagged=function(n,t){return this._bindingWhenSyntax.whenTargetTagged(n,t)},n.prototype.whenInjectedInto=function(n){return this._bindingWhenSyntax.whenInjectedInto(n)},n.prototype.whenParentNamed=function(n){return this._bindingWhenSyntax.whenParentNamed(n)},n.prototype.whenParentTagged=function(n,t){return this._bindingWhenSyntax.whenParentTagged(n,t)},n.prototype.whenAnyAncestorIs=function(n){return this._bindingWhenSyntax.whenAnyAncestorIs(n)},n.prototype.whenNoAncestorIs=function(n){return this._bindingWhenSyntax.whenNoAncestorIs(n)},n.prototype.whenAnyAncestorNamed=function(n){return this._bindingWhenSyntax.whenAnyAncestorNamed(n)},n.prototype.whenAnyAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(n,t)},n.prototype.whenNoAncestorNamed=function(n){return this._bindingWhenSyntax.whenNoAncestorNamed(n)},n.prototype.whenNoAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenNoAncestorTagged(n,t)},n.prototype.whenAnyAncestorMatches=function(n){return this._bindingWhenSyntax.whenAnyAncestorMatches(n)},n.prototype.whenNoAncestorMatches=function(n){return this._bindingWhenSyntax.whenNoAncestorMatches(n)},n.prototype.onActivation=function(n){return this._bindingOnSyntax.onActivation(n)},n}(),Z=function(){function n(n){this._binding=n}return n.prototype.to=function(n){return this._binding.type=a.Instance,this._binding.implementationType=n,new X(this._binding)},n.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error("The toSelf function can only be applied when a constructor is used as service identifier");var n=this._binding.serviceIdentifier;return this.to(n)},n.prototype.toConstantValue=function(n){return this._binding.type=a.ConstantValue,this._binding.cache=n,this._binding.dynamicValue=null,this._binding.implementationType=null,new J(this._binding)},n.prototype.toDynamicValue=function(n){return this._binding.type=a.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=n,this._binding.implementationType=null,new X(this._binding)},n.prototype.toConstructor=function(n){return this._binding.type=a.Constructor,this._binding.implementationType=n,new J(this._binding)},n.prototype.toFactory=function(n){return this._binding.type=a.Factory,this._binding.factory=n,new J(this._binding)},n.prototype.toFunction=function(n){if("function"!=typeof n)throw new Error("Value provided to function binding must be a function!");var t=this.toConstantValue(n);return this._binding.type=a.Function,t},n.prototype.toAutoFactory=function(n){return this._binding.type=a.Factory,this._binding.factory=function(t){return function(){return t.container.get(n)}},new J(this._binding)},n.prototype.toProvider=function(n){return this._binding.type=a.Provider,this._binding.provider=n,new J(this._binding)},n.prototype.toService=function(n){this.toDynamicValue((function(t){return t.container.get(n)}))},n}(),$=function(){function n(){}return n.of=function(t,e){var i=new n;return i.bindings=t,i.middleware=e,i},n}(),nn=function(){function n(){this._map=new Map}return n.prototype.getMap=function(){return this._map},n.prototype.add=function(n,t){if(null==n)throw new Error("NULL argument");if(null==t)throw new Error("NULL argument");var e=this._map.get(n);void 0!==e?(e.push(t),this._map.set(n,e)):this._map.set(n,[t])},n.prototype.get=function(n){if(null==n)throw new Error("NULL argument");var t=this._map.get(n);if(void 0!==t)return t;throw new Error("Key Not Found")},n.prototype.remove=function(n){if(null==n)throw new Error("NULL argument");if(!this._map.delete(n))throw new Error("Key Not Found")},n.prototype.removeByCondition=function(n){var t=this;this._map.forEach((function(e,i){var r=e.filter((function(t){return!n(t)}));r.length>0?t._map.set(i,r):t._map.delete(i)}))},n.prototype.hasKey=function(n){if(null==n)throw new Error("NULL argument");return this._map.has(n)},n.prototype.clone=function(){var t=new n;return this._map.forEach((function(n,e){n.forEach((function(n){return t.add(e,n.clone())}))})),t},n.prototype.traverse=function(n){this._map.forEach((function(t,e){n(e,t)}))},n}(),tn=function(n,t,e,i){return new(e||(e=Promise))((function(r,o){function a(n){try{c(i.next(n))}catch(n){o(n)}}function u(n){try{c(i.throw(n))}catch(n){o(n)}}function c(n){n.done?r(n.value):new e((function(t){t(n.value)})).then(a,u)}c((i=i.apply(n,t||[])).next())}))},en=function(n,t){var e,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(n,a)}catch(n){o=[6,n],i=0}finally{e=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};n("Container",function(){function n(n){var t=n||{};if("object"!=typeof t)throw new Error("Invalid Container constructor argument. Container options must be an object.");if(void 0===t.defaultScope)t.defaultScope=o.Transient;else if(t.defaultScope!==o.Singleton&&t.defaultScope!==o.Transient&&t.defaultScope!==o.Request)throw new Error("Invalid Container option. Default scope must be a string ('singleton' or 'transient').");if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error("Invalid Container option. Auto bind injectable must be a boolean");if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error("Invalid Container option. Skip base check must be a boolean");this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=s(),this._bindingDictionary=new nn,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new h}return n.merge=function(t,e){var i=new n,r=P(i),o=P(t),a=P(e);function u(n,t){n.traverse((function(n,e){e.forEach((function(n){t.add(n.serviceIdentifier,n.clone())}))}))}return u(o,r),u(a,r),i},n.prototype.load=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=this._getContainerModuleHelpersFactory(),i=0,r=n;i<r.length;i++){var o=r[i],a=e(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},n.prototype.loadAsync=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return tn(this,void 0,void 0,(function(){var t,e,i,r,o;return en(this,(function(a){switch(a.label){case 0:t=this._getContainerModuleHelpersFactory(),e=0,i=n,a.label=1;case 1:return e<i.length?(r=i[e],o=t(r.id),[4,r.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)]):[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))},n.prototype.unload=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=function(n){return function(t){return t.moduleId===n}};t.forEach((function(t){var e=i(t.id);n._bindingDictionary.removeByCondition(e)}))},n.prototype.bind=function(n){var t=this.options.defaultScope||o.Transient,e=new d(n,t);return this._bindingDictionary.add(n,e),new Z(e)},n.prototype.rebind=function(n){return this.unbind(n),this.bind(n)},n.prototype.unbind=function(n){try{this._bindingDictionary.remove(n)}catch(t){throw new Error("Could not unbind serviceIdentifier: "+y(n))}},n.prototype.unbindAll=function(){this._bindingDictionary=new nn},n.prototype.isBound=function(n){var t=this._bindingDictionary.hasKey(n);return!t&&this.parent&&(t=this.parent.isBound(n)),t},n.prototype.isBoundNamed=function(n,t){return this.isBoundTagged(n,"named",t)},n.prototype.isBoundTagged=function(n,t,e){var i=!1;if(this._bindingDictionary.hasKey(n)){var r=this._bindingDictionary.get(n),o=function(n,t,e,i){var r=new E(u.Variable,"",t,new _(e,i)),o=new w(n);return new q(t,o,null,[],r)}(this,n,t,e);i=r.some((function(n){return n.constraint(o)}))}return!i&&this.parent&&(i=this.parent.isBoundTagged(n,t,e)),i},n.prototype.snapshot=function(){this._snapshots.push($.of(this._bindingDictionary.clone(),this._middleware))},n.prototype.restore=function(){var n=this._snapshots.pop();if(void 0===n)throw new Error("No snapshot available to restore.");this._bindingDictionary=n.bindings,this._middleware=n.middleware},n.prototype.createChild=function(t){var e=new n(t||this.options);return e.parent=this,e},n.prototype.applyMiddleware=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=this._middleware?this._middleware:this._planAndResolve();this._middleware=n.reduce((function(n,t){return t(n)}),e)},n.prototype.applyCustomMetadataReader=function(n){this._metadataReader=n},n.prototype.get=function(n){return this._get(!1,!1,u.Variable,n)},n.prototype.getTagged=function(n,t,e){return this._get(!1,!1,u.Variable,n,t,e)},n.prototype.getNamed=function(n,t){return this.getTagged(n,"named",t)},n.prototype.getAll=function(n){return this._get(!0,!0,u.Variable,n)},n.prototype.getAllTagged=function(n,t,e){return this._get(!1,!0,u.Variable,n,t,e)},n.prototype.getAllNamed=function(n,t){return this.getAllTagged(n,"named",t)},n.prototype.resolve=function(n){var t=this.createChild();return t.bind(n).toSelf(),t.get(n)},n.prototype._getContainerModuleHelpersFactory=function(){var n=this,t=function(n,t){n._binding.moduleId=t},e=function(e){return function(i){var r=n.rebind.bind(n)(i);return t(r,e),r}};return function(i){return{bindFunction:(r=i,function(e){var i=n.bind.bind(n)(e);return t(i,r),i}),isboundFunction:function(t){return n.isBound.bind(n)(t)},rebindFunction:e(i),unbindFunction:function(t){n.unbind.bind(n)(t)}};var r}},n.prototype._get=function(n,t,e,i,r,o){var a=null,u={avoidConstraints:n,contextInterceptor:function(n){return n},isMultiInject:t,key:r,serviceIdentifier:i,targetType:e,value:o};if(this._middleware){if(null==(a=this._middleware(u)))throw new Error("Invalid return type in middleware. Middleware must return!")}else a=this._planAndResolve()(u);return a},n.prototype._planAndResolve=function(){var n=this;return function(t){var e=O(n._metadataReader,n,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return function(n){return G(n.plan.rootRequest.requestScope)(n.plan.rootRequest)}(e=t.contextInterceptor(e))}},n}()),n("ContainerModule",(function(n){this.id=s(),this.registry=n})),n("AsyncContainerModule",(function(n){this.id=s(),this.registry=n}));n("multiBindToService",(function(n){return function(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e.forEach((function(e){return n.bind(e).toService(t)}))}}})),n("METADATA_KEY",r)}}}));
//# sourceMappingURL=inversify.system.min.js.map
